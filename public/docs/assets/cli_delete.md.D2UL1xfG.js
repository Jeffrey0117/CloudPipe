import{_ as a,o as i,c as e,ag as t}from"./chunks/framework.wGDfT7ie.js";const c=JSON.parse('{"title":"cloudpipe delete","description":"","frontmatter":{},"headers":[],"relativePath":"cli/delete.md","filePath":"cli/delete.md"}'),l={name:"cli/delete.md"};function n(p,s,h,d,o,k){return i(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="cloudpipe-delete" tabindex="-1">cloudpipe delete <a class="header-anchor" href="#cloudpipe-delete" aria-label="Permalink to &quot;cloudpipe delete&quot;">​</a></h1><p>刪除已部署的專案。</p><h2 id="語法" tabindex="-1">語法 <a class="header-anchor" href="#語法" aria-label="Permalink to &quot;語法&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cloudpipe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [options]</span></span></code></pre></div><h2 id="參數" tabindex="-1">參數 <a class="header-anchor" href="#參數" aria-label="Permalink to &quot;參數&quot;">​</a></h2><table tabindex="0"><thead><tr><th>參數</th><th>說明</th></tr></thead><tbody><tr><td><code>name</code></td><td>專案名稱（必填）</td></tr></tbody></table><h2 id="選項" tabindex="-1">選項 <a class="header-anchor" href="#選項" aria-label="Permalink to &quot;選項&quot;">​</a></h2><table tabindex="0"><thead><tr><th>選項</th><th>說明</th></tr></thead><tbody><tr><td><code>--force, -f</code></td><td>強制刪除，不詢問確認</td></tr><tr><td><code>--keep-files</code></td><td>保留專案檔案，只移除 PM2 process</td></tr></tbody></table><h2 id="範例" tabindex="-1">範例 <a class="header-anchor" href="#範例" aria-label="Permalink to &quot;範例&quot;">​</a></h2><h3 id="刪除專案" tabindex="-1">刪除專案 <a class="header-anchor" href="#刪除專案" aria-label="Permalink to &quot;刪除專案&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cloudpipe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-api</span></span></code></pre></div><p>會出現確認提示：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Are you sure you want to delete &quot;my-api&quot;?</span></span>
<span class="line"><span>This will:</span></span>
<span class="line"><span>  - Stop the PM2 process</span></span>
<span class="line"><span>  - Remove project files</span></span>
<span class="line"><span>  - Delete project config</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Type &quot;my-api&quot; to confirm:</span></span></code></pre></div><h3 id="強制刪除-不確認" tabindex="-1">強制刪除（不確認） <a class="header-anchor" href="#強制刪除-不確認" aria-label="Permalink to &quot;強制刪除（不確認）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cloudpipe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-api</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force</span></span></code></pre></div><h3 id="只停止服務-保留檔案" tabindex="-1">只停止服務，保留檔案 <a class="header-anchor" href="#只停止服務-保留檔案" aria-label="Permalink to &quot;只停止服務，保留檔案&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cloudpipe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-api</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --keep-files</span></span></code></pre></div><h2 id="刪除的內容" tabindex="-1">刪除的內容 <a class="header-anchor" href="#刪除的內容" aria-label="Permalink to &quot;刪除的內容&quot;">​</a></h2><p>執行 <code>delete</code> 會移除：</p><ol><li><strong>PM2 process</strong> - 停止並從 PM2 移除</li><li><strong>專案檔案</strong> - <code>projects/{name}/</code> 目錄</li><li><strong>專案設定</strong> - 從 <code>projects.json</code> 移除</li><li><strong>Webhook</strong> - 如果有設定 GitHub Webhook</li></ol><h2 id="恢復已刪除的專案" tabindex="-1">恢復已刪除的專案 <a class="header-anchor" href="#恢復已刪除的專案" aria-label="Permalink to &quot;恢復已刪除的專案&quot;">​</a></h2><p>如果使用 <code>--keep-files</code>，可以重新部署：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cloudpipe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> projects/my-api</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-api</span></span></code></pre></div><p>如果完全刪除了，需要重新從 GitHub 部署：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cloudpipe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/user/repo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-api</span></span></code></pre></div><h2 id="批次刪除" tabindex="-1">批次刪除 <a class="header-anchor" href="#批次刪除" aria-label="Permalink to &quot;批次刪除&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 列出所有專案</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cloudpipe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.[].id&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 刪除多個專案</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-api</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test-app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> old-blog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  cloudpipe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $name </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--force</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span></code></pre></div><h2 id="相關指令" tabindex="-1">相關指令 <a class="header-anchor" href="#相關指令" aria-label="Permalink to &quot;相關指令&quot;">​</a></h2><ul><li><a href="/docs/cli/list.html">cloudpipe list</a> - 查看所有部署</li><li><a href="/docs/cli/deploy.html">cloudpipe deploy</a> - 部署專案</li><li><a href="/docs/cli/logs.html">cloudpipe logs</a> - 查看日誌</li></ul>`,29)])])}const g=a(l,[["render",n]]);export{c as __pageData,g as default};
